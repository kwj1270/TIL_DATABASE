COUNT 이외의 집계함수
=======================
```
COUNT(집합) :   행의 개수를 나타내준다
SUM(집합)   :   수치형 집합의 값들을 합친값을 반환한다. 
AVG(집합)   :   수치형 집합의 값들을 합치고 평균을 구한다.
MIN(집합)   :   수치형 집합중에서 가장 작은 값을 반환한다.
MAX(집합)   :   수치형 집합중에서 가장 큰 값을 반환한다.
```
앞선 20강에서 봤던 집계함수들이다 이번에는 ```COUNT()``` 이외의 집계함수를 알아보자
  
# 1. SUM() 으로 합계 구하기
```SUM()``` 집계 함수는 집합의 합계를 구할 수 있다.  
  
**예시**
```
_______________________
| id | name | quantity |
|____|______|__________|
|1   |'A'   | 1        |
|____|______|__________|
|2   |'A'   | 2        |
|____|______|__________|
|3   |'B'   | 10       |
|____|______|__________|
|4   |'C'   | 3        |
|____|______|__________|
|5   |NULL  | NULL     |
|____|______|__________|

SELECT sum(quantity) FROM mytable; 
```
```
___________________
|  SUM(quantity)  |
|_________________|
|        16       |
|_________________|
```
다른 집계 함수들과 마찬가지로 ```NULL```은 포함하지 않는다.  
  
```SUM()```집계 함수에 지정되는 집합은 수치형 뿐이며  
문자열형이나 날짜시간형에는 사용할 수 없다.

***
# 2. AVG()로 평균내기
```SUM()```을 이용해서 평균 값을 구하려면   
```SUM(quantity) / COUNT(quantity)``` 이러한 코드로 구현을 해야 될 것이다.   
하지만 DB에는 이러한 평균값을 쉽게 구하게 해주는 ```AVG()``` 집계 함수가 있다.  
  
**예시**
```
_______________________
| id | name | quantity |
|____|______|__________|
|1   |'A'   | 1        |
|____|______|__________|
|2   |'A'   | 2        |
|____|______|__________|
|3   |'B'   | 10       |
|____|______|__________|
|4   |'C'   | 3        |
|____|______|__________|
|5   |NULL  | NULL     |
|____|______|__________|

SELECT AVG(quantity) FROM mytable; 
```
```
___________________
|  AVG(quantity)  |
|_________________|
|        4        |
|_________________|

16/4 의 값이다.
```
코드를 보면 알 수 있듯이  
다른 집계 함수들과 마찬가지로 ```NULL```은 포함하지 않는다.    
그래서 ```16 / 4``` 라는 연산이 진행 되었다.
  
만약 ```NULL``` 값을 0으로 간주해서 평균을 내고 싶다면 ```CASE```를 이용하자  
  
**에시**
```
SELECT sum(CASE WHEN quantity IS NULL THEN 0 ELSE quantity END) AS avgnull0 FROM mytable; 

____________________
|     avgnull0     |
|__________________|
|      3.2000      |
|__________________|

```

***
# 3. MIN , MAX로 최솟값 최대값 구하기
```MIN()``` 집합중 최솟값  
```MAX()``` 집합중 최댓값 을 구해주는 집계함수이고  
재미있는점은 수치형 뿐만 아니라 **문자열형,날짜시간형**에도 사용할 수 있다.    
다만 ```NULL```값을 무시하는 기본규칙은 다른 집계함수와 같다.  
  
**예시**
```
_______________________
| id | name | quantity |
|____|______|__________|
|1   |'A'   | 1        |
|____|______|__________|
|2   |'A'   | 2        |
|____|______|__________|
|3   |'B'   | 10       |
|____|______|__________|
|4   |'C'   | 3        |
|____|______|__________|
|5   |NULL  | NULL     |
|____|______|__________|

SELECT MIN(quantity), MAX(quantity) FROM mytable;
SELECT MIN(name), MAX(name) FROM mytable;

```
```
_____________________________________
|  MIN(quantity)  |  MAX(quantity)  |   
|_________________|_________________|
|        1        |       10        |
|_________________|_________________|

_____________________________________
|    MIN(name)    |    MAX(name)    |   
|_________________|_________________|
|        A        |        C        |
|_________________|_________________|
```
문자열값은 알파벳 순서인 것 같다.(사전 순서)
